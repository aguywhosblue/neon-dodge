<!DOCTYPE html>
<html>
<head>
<title>Neon Dodge</title>
<style>
body {
  margin: 0;
  background: radial-gradient(circle at top, #111, #000);
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
  overflow: hidden;
}
h1 {
  color: #00f6ff;
  text-shadow: 0 0 10px #00f6ff;
}
#score {
  margin-bottom: 5px;
}
canvas {
  display: block;
  margin: auto;
  background: #070707;
  box-shadow: 0 0 25px #00f6ff;
  border-radius: 12px;
}
</style>
</head>

<body>
<h1>NEON DODGE</h1>
<div id="score">Time: 0s</div>
<canvas id="game" width="500" height="600"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let player = { x: 240, y: 520, size: 20, speed: 6 };
let keys = {};
let obstacles = [];
let startTime = Date.now();
let gameOver = false;

document.addEventListener("keydown", e => keys[e.key.toLowerCase()] = true);
document.addEventListener("keyup", e => keys[e.key.toLowerCase()] = false);

function spawnObstacle() {
  const count = 1 + Math.floor(Math.random() * 3);
  for (let i = 0; i < count; i++) {
    obstacles.push({
      x: Math.random() * (canvas.width - 30),
      y: -30,
      size: 30,
      speed: 4 + Math.random() * getDifficulty()
    });
  }
}

function getDifficulty() {
  return (Date.now() - startTime) / 4000;
}

setInterval(spawnObstacle, 400);

function update() {
  if (gameOver) return;

  if (keys["arrowleft"] || keys["a"]) player.x -= player.speed;
  if (keys["arrowright"] || keys["d"]) player.x += player.speed;
  if (keys["arrowup"] || keys["w"]) player.y -= player.speed;
  if (keys["arrowdown"] || keys["s"]) player.y += player.speed;

  player.x = Math.max(0, Math.min(canvas.width - player.size, player.x));
  player.y = Math.max(0, Math.min(canvas.height - player.size, player.y));

  obstacles.forEach(o => o.y += o.speed);
  obstacles = obstacles.filter(o => o.y < canvas.height + 50);

  for (let o of obstacles) {
    if (
      player.x < o.x + o.size &&
      player.x + player.size > o.x &&
      player.y < o.y + o.size &&
      player.y + player.size > o.y
    ) {
      gameOver = true;
      alert("Game Over! Time survived: " +
        ((Date.now() - startTime) / 1000).toFixed(1) + "s");
    }
  }
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.shadowBlur = 15;
  ctx.shadowColor = "#00f6ff";
  ctx.fillStyle = "#00f6ff";
  ctx.fillRect(player.x, player.y, player.size, player.size);

  ctx.shadowBlur = 10;
  ctx.shadowColor = "#ff0055";
  ctx.fillStyle = "#ff0055";
  obstacles.forEach(o => ctx.fillRect(o.x, o.y, o.size, o.size));
}

function loop() {
  update();
  draw();
  document.getElementById("score").textContent =
    "Time: " + ((Date.now() - startTime) / 1000).toFixed(1) + "s";
  if (!gameOver) requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>

